% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/phonetify_names_updated_wide.R
\name{phonetify_function_wide}
\alias{phonetify_function_wide}
\title{Machine-aided Phonetic matching using and String Similarity}
\usage{
phonetify_function_wide(dataset, key.dict, checkvar)
}
\arguments{
\item{dataset}{A data frame requiring the name to be cleaned. Must contain columns named
\code{name}, \code{iso}, and \code{entity_type}.}

\item{key.dict}{A data frame used as the lookup dictionary. Must contain columns
for phonetic codes (e.g., \code{metaphone}, \code{nysiis.modified}, etc., which
must be pre-calculated), \code{iso}, \code{climactor_id}, \code{right} (the correct name),
\code{GDAM_id}, \code{entity_type}, and \code{population} (or another numeric variable
used for display, as the current code uses \code{population}).}

\item{checkvar}{A character string specifying a variable name in \code{dataset}
(e.g., population) to be displayed during the interactive matching process.}
}
\value{
The modified \code{dataset} data frame. Names that were interactively
  selected by the user are updated to the corresponding \code{right} name and
  \code{climactor_id} from the \code{key.dict}. If the user enters 'S', the
  current progress is returned. Unmatched indices are tracked globally in
  \code{unmatched_indices}.
}
\description{
This function takes a (\code{dataset}) containing entity names and, for each unique entry,
attempts to find matches in a provided key dictionary (\code{key.dict}) by using
a suite of phonetic algorithms and string distance metrics (e.g., Metaphone, NYSIIS,
Phonex, RogerRoot, along with methods like Jaro-Winkler, cosine, and Jaccard).
It calculates a composite phonetic score and presents the top matches to the user
in the R console for **interactive selection and correction**.

**Note:** This function is designed to be run interactively. It uses global
assignments (\code{<<-}) for internal state tracking and relies on console
input (\code{readline}) from the user. The process requires full completion for
all rows in (\code{dataset}) to be saved.
It requires the 'dplyr', 'tidyr', ' 'stringi', 'phonics', 'crayon',
and 'stringdist' packages (some implicitly via the code).
The helper functions \code{.coerce_location_names}, \code{remove_extra_updated}.
}
